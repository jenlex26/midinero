//
//  BASABeneficiaryListViewController.swift
//  GSSAFront
//
//  Created Desarrollo on 14/06/21.
//  Copyright © 2021 ___ORGANIZATIONNAME___. All rights reserved.
//
//  Template generated by Juanpe Catalán @JuanpeCMiOS
//

import UIKit
import GSSAVisualComponents
import GSSAVisualTemplates

class BASABeneficiaryListViewController: UIViewController, BASABeneficiaryListViewProtocol, GSVCBottomAlertHandler {
    func cerraBottomAlert() {
        bottomAlert = nil
        //bottomAlert?.animateDismissal()
    }
    func dismissBottomAlert(animated: Bool) {
        bottomAlert?.animViewBottomToTop()
        bottomAlert = nil
    }
    
    var bottomAlert: GSVCBottomAlert?
	var presenter: BASABeneficiaryListPresenterProtocol?

    @IBOutlet weak var btnNewBeneficiary: GSVCButton!
    
	override func viewDidLoad() {
        super.viewDidLoad()
        if #available(iOS 13.0, *) {
            btnNewBeneficiary.setImage(UIImage(systemName: "person.crop.circle.fill")!.withRenderingMode(.alwaysTemplate).tint(with: ColorStyle.GSVCSecundary100.color ), for: .normal)
        }
        
        DispatchQueue.main.asyncAfter(deadline: .now() + 0.5, execute: { [self] in
            presentBottomAlertFullData(status: .info, message: "La suma total de tus beneficiarios debe dar un total del 100%", attributedString: nil, canBeClosed: true, animated: true, showOptionalButton: false, optionalButtonText: nil)
        })
    }
    
    func optionalAction() {
        print("alert closed")
    }
    
    @IBAction func newBeneficiary(_ sender: Any){
        let view = BASANewBeneficiaryRouter.createModule()
        self.navigationController?.pushViewController(view, animated: true)
    }
    
    @IBAction func close(_ sender: Any){
        self.navigationController?.popViewController(animated: true)
    }

}
