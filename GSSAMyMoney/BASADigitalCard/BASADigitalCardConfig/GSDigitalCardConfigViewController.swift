//
//  GSDigitalCardConfigViewController.swift
//  GSSAMyMoney
//
//  Created Desarrollo on 22/06/21.
//  Copyright © 2021 ___ORGANIZATIONNAME___. All rights reserved.
//
//  Template generated by Juanpe Catalán @JuanpeCMiOS
//

import UIKit
import GSSAVisualComponents

class GSDigitalCardConfigViewController: UIViewController, GSDigitalCardConfigViewProtocol {
    
    var presenter: GSDigitalCardConfigPresenterProtocol?
    
    @IBOutlet weak var containerView        : UIView!
    @IBOutlet weak var buttonsView          : UIView!
    @IBOutlet weak var swtch                : UISwitch!
    @IBOutlet weak var lblBuyLimit          : GSVCLabel!
    @IBOutlet weak var lblDigitalCardStatus : GSVCLabel!
    
    
    override func viewDidLoad() {
        super.viewDidLoad()
        swtch.addTarget(self, action: #selector(switchChanged(sender:)), for: .valueChanged)
        buttonsView.layer.borderWidth = 0.5
        containerView.backgroundColor = .GSVCBase200
        updateColors()
    }
    
    override func traitCollectionDidChange(_ previousTraitCollection: UITraitCollection?) {
        updateColors()
    }
    
    func updateColors(){
        if #available(iOS 13.0, *) {
            if overrideUserInterfaceStyle == .dark{
                setDarkColors()
            }else{
                setLightColors()
            }
        } else {
            setLightColors()
        }
    }
    
    func setLightColors(){
        buttonsView.layer.borderWidth = 0
        containerView.backgroundColor = .GSVCBase200
    }
    
    func setDarkColors(){
        buttonsView.layer.borderWidth = 0.5
        buttonsView.layer.borderColor = UIColor.white.cgColor
        containerView.backgroundColor = .black
    }
    
    @objc func switchChanged(sender: UISwitch){
        if sender.isOn{
            print("ENCENDER")
        }else{
            print("OFF")
        }
    }
    
    @IBAction func close(_ sender: Any){
        self.navigationController?.popViewController(animated: true)
    }
}
