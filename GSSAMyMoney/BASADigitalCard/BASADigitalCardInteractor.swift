//
//  BASADigitalCardInteractor.swift
//  BASAMyPaymentsScreens
//
//  Created BranchbitG on 14/05/21.
//  Copyright © 2021 ___ORGANIZATIONNAME___. All rights reserved.
//
//  Template generated by Juanpe Catalán @JuanpeCMiOS
//

import UIKit
import GSSAServiceCoordinator
import GSSASecurityManager

class BASADigitalCardInteractor: GSSAURLSessionTaskCoordinatorBridge, BASADigitalCardInteractorProtocol {
    
    weak var presenter: BASADigitalCardPresenterProtocol?
    
    public func TryGetCardDigitalCardData(Body: Transaction,  DataCard: @escaping (AccountResponse?) -> ())
    {
        self.urlPath = "https://688div74bd.execute-api.us-east-1.amazonaws.com/"
        self.strPathEndpoint = "interaccion/superapp/dinero/captacion/gestion-tarjetas-digitales/v1/tarjetas"
    
        sendRequest(strUrl: strPathEndpoint, method: .POST, objBody: Body, environment: .develop) { (objRes: AccountResponse?, error) in
            debugPrint(objRes as Any)
            if error.code == 0 {
                DataCard(objRes)
            } else {
                DataCard(nil)
                debugPrint(error)
            }
        }
    }
    
}
