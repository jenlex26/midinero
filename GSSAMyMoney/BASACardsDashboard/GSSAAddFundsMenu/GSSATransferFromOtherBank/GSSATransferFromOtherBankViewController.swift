//
//  GSSATransferFromOtherBankViewController.swift
//  GSSAMyMoney
//
//  Created Andoni Suarez  on 18/10/21.
//  Copyright © 2021 ___ORGANIZATIONNAME___. All rights reserved.
//
//  Template generated by Juanpe Catalán @JuanpeCMiOS
//

import UIKit
import GSSASessionInfo
import GSSAVisualTemplates
import GSSAVisualComponents

class GSSATransferFromOtherBankViewController: UIViewController, GSSATransferFromOtherBankViewProtocol, GSVCBottomAlertHandler {
    
    @IBOutlet weak var btnStep1: UIButton!
    @IBOutlet weak var btnStep2: UIButton!
    @IBOutlet weak var lblBank: UILabel!
    @IBOutlet weak var lblCLABE: UILabel!
    @IBOutlet weak var lblUsername: UILabel!
    @IBOutlet weak var infoIcon: UIButton!
    
    var presenter: GSSATransferFromOtherBankPresenterProtocol?
    var bottomAlert: GSVCBottomAlert?
    
    override func viewDidLoad() {
        super.viewDidLoad()
        setBackButtonForOlderDevices(tint: .purple)
        btnStep1.backgroundColor = UIColor.GSVCPrincipal100
        btnStep1.makeCircular()
        btnStep2.backgroundColor = UIColor.GSVCPrincipal100
        btnStep2.makeCircular()
        lblUsername.text = getCompleteUserName().capitalized
        lblBank.text = "Banco Azteca"
        lblCLABE.text = GSSISessionInfo.sharedInstance.gsUser.account?.clabe?.tnuoccaFormat
    }
    
    @IBAction func copyInfo(_ sender: GSVCButton){
        switch sender.accessibilityIdentifier{
        case "NAME":
            UIPasteboard.general.string = lblUsername.text
            self.presentBottomAlertFullData(status: .success, message: "Copiaste el nombre del beneficiario.", attributedString: nil, canBeClosed: true, animated: true, showOptionalButton: false, optionalButtonText: nil)
        case "CLABE":
            UIPasteboard.general.string = lblCLABE.text
            self.presentBottomAlertFullData(status: .success, message: "Copiaste la CLABE interbancaria.", attributedString: nil, canBeClosed: true, animated: true, showOptionalButton: false, optionalButtonText: nil)
        case "BANK":
            UIPasteboard.general.string = lblBank.text
            self.presentBottomAlertFullData(status: .success, message: "Copiaste el nombre del banco.", attributedString: nil, canBeClosed: true, animated: true, showOptionalButton: false, optionalButtonText: nil)
        default:
            ()
        }
    }
    
    @IBAction func close(_ sender: Any){
        self.navigationController?.popViewController(animated: true)
    }
}
